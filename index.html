<!doctype html>
<html  lang="en" ng-app="app">
    <head>
        <meta charset="utf-8">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.min.js"></script>        
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">       
        <!-- Angular App -->
        <script type="text/javascript" src="app/dirPagination.js"></script>
       	<script type="text/javascript" src="app/app.js"></script>
       	<script type="text/javascript" src="app/MainCtrl.js"></script>
        <script type="text/javascript" src="app/updateOnEnter.js"></script>
       	
        <title>Angular Pagination App</title>        
    </head>
    <body>	

        <div class="col-lg-8">
            <div class="page-header">
                <h2 id="tables">Server Side pagination in AngularJS</h2>
            </div>
            <div class="bs-component" ng-controller="MainCtrl as main">                
                <table class="table table-striped table-hover">
                    <thead>
                        <tr>
                            <th style="width:10%">
                                <a data-sort="id" ng-click="sort('id')" style="cursor:pointer;">
                                    Id
                                    <i class="glyphicon" ng-class="{
                                          'glyphicon-chevron-up': isSortUp('id'),
                                          'glyphicon-chevron-down': isSortDown('id')
                                        }">              
                                    </i>
                                </a>
                            </th>
                            <th>
                                <a data-sort="first_name" ng-click="sort('first_name')" style="cursor:pointer;">
                                    First Name
                                    <i class="glyphicon" ng-class="{ 
                                          'glyphicon-chevron-up': isSortUp('first_name'),
                                          'glyphicon-chevron-down': isSortDown('first_name')
                                        }">              
                                    </i>
                                </a>
                            </th>                            
                            <th>
                                <a data-sort="last_name" ng-click="sort('last_name')" style="cursor:pointer;">
                                    Second Name
                                    <i class="glyphicon" ng-class="{ 
                                          'glyphicon-chevron-up': isSortUp('last_name'),
                                          'glyphicon-chevron-down': isSortDown('last_name')
                                        }">              
                                    </i>
                                </a>
                            </th>
                            <th>
                                <a data-sort="email" ng-click="sort('email')" style="cursor:pointer;">
                                    Email
                                    <i class="glyphicon" ng-class="{ 
                                          'glyphicon-chevron-up': isSortUp('email'),
                                          'glyphicon-chevron-down': isSortDown('email')
                                        }">              
                                    </i>
                                </a>
                            </th>
                            <th>
                                <a data-sort="city" ng-click="sort('city')" style="cursor:pointer;">
                                    City
                                    <i class="glyphicon" ng-class="{ 
                                          'glyphicon-chevron-up': isSortUp('city'),
                                          'glyphicon-chevron-down': isSortDown('city')
                                        }">              
                                    </i>
                                </a>
                            </th>
                            <th>
                                <a data-sort="phone" ng-click="sort('phone')" style="cursor:pointer;">
                                    Phone
                                    <i class="glyphicon" ng-class="{ 
                                          'glyphicon-chevron-up': isSortUp('phone'),
                                          'glyphicon-chevron-down': isSortDown('phone')
                                        }">              
                                    </i>
                                </a>
                            </th>
                        </tr>
                        <tr clas="filters">
                            <td>
                                <input class="form-control" type="text" name="id" ng-model="query.id" ng-change="showFiltered()" ng-model-options="{ updateOn: 'change blur' }" update-on-enter>
                            </td>
                            <td>
                                <input class="form-control" type="text" name="first_name" ng-model="query.first_name" ng-change="showFiltered()" ng-model-options="{ updateOn: 'change blur' }" update-on-enter>
                            </td>
                            <td>
                                <input class="form-control" type="text" name="last_name" ng-model="query.last_name" ng-change="showFiltered()" ng-model-options="{ updateOn: 'change blur' }" update-on-enter>
                            </td>
                            <td>
                                <input class="form-control" type="text" name="email" ng-model="query.email" ng-change="showFiltered()" ng-model-options="{ updateOn: 'change blur' }" update-on-enter>
                            </td>
                            <td>
                                <input class="form-control" type="text" name="city" ng-model="query.city" ng-change="showFiltered()" ng-model-options="{ updateOn: 'change blur' }" update-on-enter>
                            </td>
                            <td>
                                <input class="form-control" type="text" name="phone" ng-model="query.phone" ng-change="showFiltered()" ng-model-options="{ updateOn: 'change blur' }" update-on-enter>
                            </td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-show="main.items.length <= 0"><td colspan="5" style="text-align:center;">Loading new data!!</td></tr>
                        <tr dir-paginate="item in main.items  | orderBy:sortField:reverse | itemsPerPage:main.itemsPerPage" total-items="main.total_count" >
                            <td>#{{item.id}}</td>
                            <td>{{item.first_name}}</td>
                            <td>{{item.last_name}}</td>
                            <td>{{item.email}}</td>
                            <td>{{item.city}}</td>
                            <td>{{item.phone}}</td>
                        </tr>
                    </tbody>
                </table>
                <dir-pagination-controls
                   max-size="8"
                   direction-links="true"
                   boundary-links="true"
                   on-page-change="main.getData(newPageNumber)" >
                </dir-pagination-controls>
                
            </div>
        </div>       
        
    </body>
</html>